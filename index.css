:root{
  --fg:#222; --bg:#fff; --muted:#6b7280; --link:#0b57d0; --line:#e5e7eb;
  --accent:#111; --max:920px; --side:280px;
  color-scheme: light dark;
}
@media (prefers-color-scheme: dark){
  :root{ --fg:#e5e7eb; --bg:#0b0b0b; --muted:#9ca3af; --link:#7aa2ff; --line:#2a2a2a; --accent:#fff; }
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font:16px/1.7 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif}
a{color:var(--link);text-decoration:none}
a:hover{text-decoration:underline}

/* Layout */
.sidebar{
  position:fixed; inset:0 auto 0 0; width:var(--side); padding:28px 22px; border-right:1px solid var(--line);
  display:flex; flex-direction:column; gap:18px; background:var(--bg);
}
.content{ margin-left:var(--side); max-width:var(--max); padding:36px 28px; }
@media (max-width:860px){
  .sidebar{ position:static; width:auto; border-right:none; border-bottom:1px solid var(--line); }
  .content{ margin:0; padding:24px 18px; }
}

/* Sidebar */
.identity { 
    text-align: center; /* 左揃えから中央揃えに変更 */
}

.identity .avatar { 
    width: 150px; /* 120pxから150pxに拡大 */
    height: 150px; /* 120pxから150pxに拡大 */
    border-radius: 50%; 
    object-fit: cover; 
    display: block; 
    margin: 0 auto 20px; /* 下マージンを15pxから20pxに調整 */
    border: 1px solid var(--line); 
}

.identity h1 { 
    font-size: 1.8rem; /* 1.35remから1.8remに拡大 */
    margin: 0 0 10px; /* 下部のマージンを調整 */
}
.identity p{ margin:0; color:var(--muted) }

.nav{ /* コンテナ自身は幅だけ確保 */
  width: 100%;
}
.nav-list{
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;        /* ← 等間隔管理をGridに委任 */
  row-gap: 10px;        /* ← 行間はここで一括コントロール */
}
.nav-list li{ margin: 0; padding: 0; }
.nav-list a{
  display: block;       /* クリック領域を行全体に */
  padding: 6px 0;       /* 行高の微調整 */
  line-height: 1.3;
  text-decoration: none;
}
.nav-list a:hover{ text-decoration: underline; }

/* Links (修正箇所) */
.links {
  margin-top: auto;
  display: flex;
  flex-wrap: wrap;
  gap: 16px;               /* 間隔を少し広げて見やすく */
  justify-content: center; /* ★ここが重要：中央揃えにする */
  width: 100%;             /* 幅いっぱいに広げる */
}
.links a {
  font-size: .95rem;
  display: inline-block;
}

/* Main */
h2{ font-size:1.25rem; margin:30px 0 10px; border-bottom:1px solid var(--line); padding-bottom:6px; color:var(--accent) }
p{ margin:0 0 12px }
ul{ margin:0 0 6px 1.2rem }
.items li{ margin-bottom:6px }

.tags{ 
  list-style:none; 
  padding:0; 
  display:flex; 
  flex-wrap:wrap; 
  gap:8px; 
  margin:8px 0 0;
  justify-content: center; /* ← これを追加 */
}
.tags li{ border:1px solid var(--line); border-radius:999px; padding:3px 10px; font-size:.9rem }

.timeline{ margin:0; }
.timeline > div{ display:grid; grid-template-columns:110px 1fr; gap:12px; padding:10px 0; border-bottom:1px dashed var(--line); }
.timeline dt{ color:var(--muted) }
.timeline dd{ margin:0 }

.pubs{
  list-style:none;
  padding:0;
  margin:0;
}
.pubs li{
  border-bottom:1px dashed var(--line);
  padding:12px 0;
  margin-bottom:10px;
}
.pubs .year{
  display:block;
  font-weight:600;
  color:var(--muted);
  margin-bottom:4px;
  position:static;
}
.pubs li strong{
  display:block;
  font-size:1.05rem;
  font-weight:600;
  line-height:1.6;
  text-indent:0;
  margin:2px 0 6px;
  word-break:normal;           /* ← keep-all から変更 */
  overflow-wrap:anywhere;      /* ← 長い英語を安全に折返し */
  hyphens:auto;                /* ← ハイフネーション有効（対応ブラウザ） */
}
.links-inline{
  float:none;
  position:static;
  display:inline-block;        /* ← インラインブロックにして隣接を安定 */
}
.links-inline a{ margin-left:10px; }
.pubs li small{ color:var(--muted); }

.footer{ margin:36px 0 0; padding-top:12px; border-top:1px solid var(--line); color:var(--muted); font-size:.95rem }

/* ==== Timeline (grid版・衝突しない調整可能パッチ) ==== */
#career{max-width: 920px; margin: 0 auto; padding: 0 18px;}
#career h2{font-size:1.6rem;margin:20px 0 12px}

/* 調整ノブ：左カラム幅とガター */
.timeline {
    position: relative; /* ドットの位置決めの基準 */
    list-style: none; /* リストのデフォルトスタイルを削除 */
    padding: 0; /* デフォルトのパディングを削除 */
    margin-top: 20px; /* 上部の余白を追加 */
}

.timeline > li {
    position: relative; /* ドットとバッジの位置決めの基準 */
    padding-left: 150px; /* 左側のテキスト（日付など）のためのスペース */
    margin-bottom: 25px; /* 各項目間の間隔 */
}

/* タイムラインの垂直線 */
.timeline::before {
    content: '';
    position: absolute;
    left: 100px; /* 垂直線の位置 */
    top: 0;
    bottom: 0;
    width: 2px; /* 線の太さ */
    background-color: var(--line); /* 線の色 */
}

/* 日付バッジのスタイル */
.timeline > li .badge {
    position: absolute;
    left: 0; /* 左寄せ */
    top: 0;
    width: 90px; /* 日付の表示幅 */
    text-align: right; /* 日付を右寄せ */
    color: var(--muted);
    font-size: 0.9em;
    padding-right: 10px; /* 垂直線との間隔 */
}

/* ドットのスタイル */
.timeline > li .dot {
    position: absolute;
    left: 95px; /* 垂直線上のドットの位置 */
    top: 3px;
    width: 12px;
    height: 12px;
    background-color: var(--link); /* ドットの色 */
    border-radius: 50%;
    z-index: 1; /* 垂直線の上に表示 */
    border: 2px solid var(--bg); /* 背景色と同じボーダーで垂直線との結合感を出す */
}

/* エントリーコンテンツのスタイル */
.timeline > li .entry {
    margin-left: 20px; /* ドットからの間隔 */
}

.timeline > li .entry h3 {
    margin: 0 0 5px 0;
    font-size: 1.1rem;
    color: var(--accent);
}

.timeline > li .entry p {
    margin: 0;
    font-size: 0.95rem;
}

/* レスポンシブ対応 */
@media (max-width: 640px) {
    .timeline > li {
        padding-left: 120px; /* 小さい画面での調整 */
    }
    .timeline::before {
        left: 80px;
    }
    .timeline > li .dot {
        left: 75px;
    }
    .timeline > li .badge {
        width: 70px;
    }
}

.pubs li small {
  color: var(--muted); /* --muted（薄いグレー）を変数から指定 */
}
