:root{
  --fg:#222; --bg:#fff; --muted:#6b7280; --link:#0b57d0; --line:#e5e7eb;
  --accent:#111; --max:920px; --side:280px;
  color-scheme: light dark;
}
@media (prefers-color-scheme: dark){
  :root{ --fg:#e5e7eb; --bg:#0b0b0b; --muted:#9ca3af; --link:#7aa2ff; --line:#2a2a2a; --accent:#fff; }
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font:16px/1.7 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif}
a{color:var(--link);text-decoration:none}
a:hover{text-decoration:underline}

/* Layout */
.sidebar{
  position:fixed; inset:0 auto 0 0; width:var(--side); padding:28px 22px; border-right:1px solid var(--line);
  display:flex; flex-direction:column; gap:18px; background:var(--bg);
}
.content{ margin-left:var(--side); max-width:var(--max); padding:36px 28px; }
@media (max-width:860px){
  .sidebar{ position:static; width:auto; border-right:none; border-bottom:1px solid var(--line); }
  .content{ margin:0; padding:24px 18px; }
}

/* Sidebar */
.identity{ text-align:left }
.identity .avatar{ width:88px; height:88px; border-radius:50%; object-fit:cover; display:block; margin-bottom:10px; border:1px solid var(--line); }
.identity h1{ font-size:1.35rem; margin:0 0 6px }
.identity p{ margin:0; color:var(--muted) }

.nav{ display:flex; flex-direction:column; gap:8px }
.nav a{ padding:4px 0 }

.links{ margin-top:auto; display:flex; flex-wrap:wrap; gap:10px; }
.links a{font-size:.95rem}

/* Main */
h2{ font-size:1.25rem; margin:30px 0 10px; border-bottom:1px solid var(--line); padding-bottom:6px; color:var(--accent) }
p{ margin:0 0 12px }
ul{ margin:0 0 6px 1.2rem }
.items li{ margin-bottom:6px }

.tags{ list-style:none; padding:0; display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 0 }
.tags li{ border:1px solid var(--line); border-radius:999px; padding:3px 10px; font-size:.9rem }

.timeline{ margin:0; }
.timeline > div{ display:grid; grid-template-columns:110px 1fr; gap:12px; padding:10px 0; border-bottom:1px dashed var(--line); }
.timeline dt{ color:var(--muted) }
.timeline dd{ margin:0 }

.pubs{ list-style:none; padding:0; }
.pubs li{ padding:10px 0; border-bottom:1px dashed var(--line) }
.pubs .year{ display:inline-block; width:60px; color:var(--muted) }
.links-inline a{ margin-left:10px; }

.footer{ margin:36px 0 0; padding-top:12px; border-top:1px solid var(--line); color:var(--muted); font-size:.95rem }

/* ==== Timeline (grid版・衝突しない調整可能パッチ) ==== */
#career{max-width: 920px; margin: 0 auto; padding: 0 18px;}
#career h2{font-size:1.6rem;margin:20px 0 12px}

/* 調整ノブ：左カラム幅とガター */
/* ===== 強制上書きパッチ（重なり完全停止） ===== */
.timeline{
  --tl-left: 230px !important;   /* 左カラムを広めに */
  --tl-gap: 28px !important;
  position: relative !important;
}

.timeline > li{
  display: grid !important;
  grid-template-columns: var(--tl-left) 1fr !important;
  column-gap: var(--tl-gap) !important;
  align-items: flex-start !important;
  padding: 22px 0 !important;
}

.timeline::before{
  content: "" !important;
  position: absolute !important;
  left: var(--tl-left) !important;
  top: 0 !important; bottom: 0 !important;
  width: 3px !important; background: var(--line) !important;
}

.timeline > li .badge{
  position: static !important;      /* ← 絶対配置を完全禁止 */
  justify-self: end !important;     /* 左カラムの右端へ */
  white-space: nowrap !important;   /* 折り返し防止 */
  display: inline-block !important;
}

.timeline > li .dot{
  position: absolute !important;
  left: var(--tl-left) !important;
  top: 30px !important;
  transform: translateX(-50%) !important;
  width: 16px !important; height: 16px !important; border-radius: 50% !important;
}

@media (max-width: 640px){
  .timeline{ --tl-left: 180px !important; --tl-gap: 16px !important; }
  .timeline > li{ padding: 18px 0 !important; }
  .timeline > li .dot{ top: 26px !important; }
}
